{"version":3,"file":"index.js","sources":["../src/js/footer.js"],"sourcesContent":["import axios from \"axios\";\n\nconst orderForm = document.querySelector(\"form\")\nconst emailInput = document.querySelector(\".email-input\")\nconst commentInput = document.querySelector(\".comment-input\")\n\nconst modalOverlay = document.querySelector(\".modal-overlay\")\nconst modalMessage = document.querySelector(\".modal-message\")\nconst closeModal = document.querySelector(\".close-modal\")\nconst emailContainer = document.querySelector(\".email-container\")\n\nconst feedbackMessage = document.createElement(\"span\")\nfeedbackMessage.classList.add(\"status-span\")\nfeedbackMessage.style.display = \"none\"\nemailContainer.appendChild(feedbackMessage)\n\nfunction validateEmail(email) {\n    const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailPattern.test(email)\n}\n\nemailInput.addEventListener(\"input\", function () {\n    const emailValue = emailInput.value.trim()\n\n    if (emailValue === \"\") {\n        emailInput.classList.remove(\"error\", \"success\")\n        feedbackMessage.style.display = \"none\"\n    } else if (validateEmail(emailValue)) {\n        emailInput.classList.add(\"success\")\n        emailInput.classList.remove(\"error\")\n        feedbackMessage.style.color = \"#4CAF50\"\n        feedbackMessage.textContent = \"\"\n    } else {\n        emailInput.classList.add(\"error\")\n        emailInput.classList.remove(\"success\")\n        feedbackMessage.style.color = \"#ED3B44\"\n        feedbackMessage.textContent = \"\"\n    }\n});\n\nemailInput.addEventListener(\"blur\", function () {\n    const emailValue = emailInput.value.trim()\n\n    if (emailValue === \"\") {\n        feedbackMessage.style.display = \"none\"\n        emailInput.classList.remove(\"error\", \"success\")\n    } else if (validateEmail(emailValue)) {\n        feedbackMessage.style.color = \"#4CAF50\"\n        feedbackMessage.textContent = \"Success!\"\n        feedbackMessage.style.display = \"block\"\n        emailInput.classList.add(\"success\")\n        emailInput.classList.remove(\"error\")\n    } else {\n        feedbackMessage.style.color = \"#ED3B44\"\n        feedbackMessage.textContent = \"Invalid input, try again\"\n        feedbackMessage.style.display = \"block\"\n        emailInput.classList.add(\"error\")\n        emailInput.classList.remove(\"success\")\n    }\n});\n\nexport default async function handleSubmit(e) {\n    e.preventDefault();\n    const email = emailInput.value.trim()\n    const comment = commentInput.value.trim()\n\n    if (!email || !comment) {\n        return alert(\"Please fill all the fields!\");\n    }\n\n    if (!validateEmail(email)) {\n        feedbackMessage.style.color = \"#ED3B44\";\n        feedbackMessage.textContent = \"Invalid input!\";\n        feedbackMessage.style.display = \"block\";\n        emailInput.classList.add(\"error\");\n        emailInput.classList.remove(\"success\");\n        return;\n    }\n\n    try {\n        const response = await axios.post(\"https://portfolio-js.b.goit.study/api/requests\", {\n            email,\n            comment,\n        });\n        const { title, message } = response.data;\n        showModal(`<h2>${title}</h2> <p>${message}</p>`);\n\n        emailInput.value = \"\";\n        commentInput.value = \"\"\n        emailInput.classList.remove(\"error\", \"success\");\n        feedbackMessage.style.display = \"none\"\n    } catch (err) {\n        showModal(`<p>Error: ${err.response?.data?.message || \"Something went wrong. Please try again!\"}</p>`);\n    }\n}\n\nfunction showModal(message) {\n    modalMessage.innerHTML = message;\n    modalOverlay.style.display = \"flex\"\n    document.body.classList.add(\"modal-open\")\n\n    document.addEventListener(\"keydown\", closeOnEscape)\n    modalOverlay.addEventListener(\"click\", backdropClose)\n}\n\nfunction closeModalFunction() {\n    modalOverlay.style.display = \"none\";\n    document.body.classList.remove(\"modal-open\");\n\n    document.removeEventListener(\"keydown\", closeOnEscape);\n    modalOverlay.removeEventListener(\"click\", backdropClose);\n}\n\nfunction closeOnEscape(e) {\n    if (e.key === \"Escape\") {\n        closeModalFunction();\n    }\n}\n\nfunction backdropClose(e) {\n    if (e.target === modalOverlay) {\n        closeModalFunction();\n    }\n}\n\norderForm.addEventListener(\"submit\", handleSubmit);\ncloseModal.addEventListener(\"click\", closeModalFunction);\n"],"names":["orderForm","emailInput","commentInput","modalOverlay","modalMessage","closeModal","emailContainer","feedbackMessage","validateEmail","email","emailValue","handleSubmit","e","comment","response","axios","title","message","showModal","err","_b","_a","closeOnEscape","backdropClose","closeModalFunction"],"mappings":"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"}
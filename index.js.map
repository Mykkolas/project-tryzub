{"version":3,"file":"index.js","sources":["../src/js/footer.js","../src/js/reviews.js"],"sourcesContent":["import axios from \"axios\";\n\nconst orderForm = document.querySelector(\"form\")\nconst emailInput = document.querySelector(\".email-input\")\nconst commentInput = document.querySelector(\".comment-input\")\n\nconst modalOverlay = document.querySelector(\".modal-overlay\")\nconst modalMessage = document.querySelector(\".modal-message\")\nconst closeModal = document.querySelector(\".close-modal\")\nconst emailContainer = document.querySelector(\".email-container\")\n\nconst feedbackMessage = document.createElement(\"span\")\nfeedbackMessage.classList.add(\"status-span\")\nfeedbackMessage.style.display = \"none\"\nemailContainer.appendChild(feedbackMessage)\n\nfunction validateEmail(email) {\n    const emailPattern = /^[^\\s@]+@[^\\s@]+\\.[^\\s@]+$/;\n    return emailPattern.test(email)\n}\n\nemailInput.addEventListener(\"input\", function () {\n    const emailValue = emailInput.value.trim()\n\n    if (emailValue === \"\") {\n        emailInput.classList.remove(\"error\", \"success\")\n        feedbackMessage.style.display = \"none\"\n    } else if (validateEmail(emailValue)) {\n        emailInput.classList.add(\"success\")\n        emailInput.classList.remove(\"error\")\n        feedbackMessage.style.color = \"#4CAF50\"\n        feedbackMessage.textContent = \"\"\n    } else {\n        emailInput.classList.add(\"error\")\n        emailInput.classList.remove(\"success\")\n        feedbackMessage.style.color = \"#ED3B44\"\n        feedbackMessage.textContent = \"\"\n    }\n});\n\nemailInput.addEventListener(\"blur\", function () {\n    const emailValue = emailInput.value.trim()\n\n    if (emailValue === \"\") {\n        feedbackMessage.style.display = \"none\"\n        emailInput.classList.remove(\"error\", \"success\")\n    } else if (validateEmail(emailValue)) {\n        feedbackMessage.style.color = \"#4CAF50\"\n        feedbackMessage.textContent = \"Success!\"\n        feedbackMessage.style.display = \"block\"\n        emailInput.classList.add(\"success\")\n        emailInput.classList.remove(\"error\")\n    } else {\n        feedbackMessage.style.color = \"#ED3B44\"\n        feedbackMessage.textContent = \"Invalid input, try again\"\n        feedbackMessage.style.display = \"block\"\n        emailInput.classList.add(\"error\")\n        emailInput.classList.remove(\"success\")\n    }\n});\n\nexport default async function handleSubmit(e) {\n    e.preventDefault();\n    const email = emailInput.value.trim()\n    const comment = commentInput.value.trim()\n\n    if (!email || !comment) {\n        showModal(`<h2>PLEASE FILL ALL THE FIELDS</h2>`)\n        return\n    }\n\n    if (!validateEmail(email)) {\n        feedbackMessage.style.color = \"#ED3B44\"\n        feedbackMessage.textContent = \"Invalid input!\"\n        feedbackMessage.style.display = \"block\"\n        emailInput.classList.add(\"error\")\n        emailInput.classList.remove(\"success\")\n        return;\n    }\n\n    try {\n        const response = await axios.post(\"https://portfolio-js.b.goit.study/api/requests\", {\n            email,\n            comment,\n        });\n        const { title, message } = response.data;\n        showModal(`<h2>${title}</h2> <p>${message}</p>`);\n\n        emailInput.value = \"\";\n        commentInput.value = \"\"\n        emailInput.classList.remove(\"error\", \"success\");\n        feedbackMessage.style.display = \"none\"\n    } catch (err) {\n        showModal(`<p>Error: ${err.response?.data?.message || \"Something went wrong. Please try again!\"}</p>`);\n    }\n}\n\nfunction showModal(message) {\n    modalMessage.innerHTML = message;\n    modalOverlay.style.display = \"flex\"\n    document.body.classList.add(\"modal-open\")\n\n    document.addEventListener(\"keydown\", closeOnEscape)\n    modalOverlay.addEventListener(\"click\", backdropClose)\n}\n\nfunction closeModalFunction() {\n    modalOverlay.style.display = \"none\";\n    document.body.classList.remove(\"modal-open\");\n\n    document.removeEventListener(\"keydown\", closeOnEscape);\n    modalOverlay.removeEventListener(\"click\", backdropClose);\n}\n\nfunction closeOnEscape(e) {\n    if (e.key === \"Escape\") {\n        closeModalFunction();\n    }\n}\n\nfunction backdropClose(e) {\n    if (e.target === modalOverlay) {\n        closeModalFunction();\n    }\n}\n\norderForm.addEventListener(\"submit\", handleSubmit);\ncloseModal.addEventListener(\"click\", closeModalFunction);\n","import axios from \"axios\";\n\nconst reviewsList = document.querySelector(\".reviews-list\");\nconst prevButton = document.querySelector(\".swiper-button-prev\");\nconst nextButton = document.querySelector(\".swiper-button-next\");\n\nexport default async function fetchReviews() {\n    try {\n        const response = await axios.get(\"https://portfolio-js.b.goit.study/api/reviews\");\n        const reviews = response.data;\n\n        if (reviews.length === 0) {\n            reviewsList.innerHTML = \"<li class='error'>Not found</li>\";\n            return;\n        }\n\n        reviewsList.innerHTML = reviews.map(review => `\n            <li class=\"swiper-slide\">\n                <div class=\"review-item\">    \n                <img src=\"${review.avatar_url}\" alt=\"${review.author}'s avatar\" class=\"review-avatar\" />\n                  <p class=\"review-author\">${review.author}</p>\n                <p class=\"review-text\">${review.review}</p>\n                </div>\n            </li>\n        `).join(\"\");\n\n        initSwiper();\n    } catch (error) {\n        reviewsList.innerHTML = \"<li class='error'>Not found</li>\";\n        console.error(\"Error fetching reviews:\", error);\n    }\n}\n\nfunction initSwiper() {\n    const swiper = new Swiper(\".swiper\", {\n        slidesPerView: 1,// change dynamically\n        spaceBetween: 16,\n        navigation: {\n            nextEl: \".swiper-button-next\",\n            prevEl: \".swiper-button-prev\",\n        },\n        keyboard: {\n            enabled: true,\n            onlyInViewport: true,\n        },\n        breakpoints: {\n            768: {\n                slidesPerView: 2,\n            },\n            1440: {\n                slidesPerView: 4,\n            },\n        },\n        on: {\n            slideChange: function () {\n                prevButton.disabled = this.isBeginning;\n                nextButton.disabled = this.isEnd;\n            }\n        }\n    });\n\n    prevButton.disabled = swiper.isBeginning;\n    nextButton.disabled = swiper.isEnd;\n}\n\nfetchReviews();\n"],"names":["orderForm","emailInput","commentInput","modalOverlay","modalMessage","closeModal","emailContainer","feedbackMessage","validateEmail","email","emailValue","handleSubmit","comment","showModal","response","axios","title","message","err","_b","_a","closeOnEscape","backdropClose","closeModalFunction","reviewsList","prevButton","nextButton","fetchReviews","reviews","review","initSwiper","error","swiper"],"mappings":"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"}
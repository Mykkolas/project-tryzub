import{a as L}from"./assets/vendor-Cuvn3jHe.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const r of document.querySelectorAll('link[rel="modulepreload"]'))c(r);new MutationObserver(r=>{for(const o of r)if(o.type==="childList")for(const l of o.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&c(l)}).observe(document,{childList:!0,subtree:!0});function i(r){const o={};return r.integrity&&(o.integrity=r.integrity),r.referrerPolicy&&(o.referrerPolicy=r.referrerPolicy),r.crossOrigin==="use-credentials"?o.credentials="include":r.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function c(r){if(r.ep)return;r.ep=!0;const o=i(r);fetch(r.href,o)}})();const b=document.querySelector("form"),t=document.querySelector(".email-input"),y=document.querySelector(".comment-input"),a=document.querySelector(".modal-overlay"),E=document.querySelector(".modal-message"),S=document.querySelector(".close-modal"),q=document.querySelector(".email-container"),s=document.createElement("span");s.classList.add("status-span");s.style.display="none";q.appendChild(s);function m(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}t.addEventListener("input",function(){const e=t.value.trim();e===""?(t.classList.remove("error","success"),s.style.display="none"):m(e)?(t.classList.add("success"),t.classList.remove("error"),s.style.color="#4CAF50",s.textContent=""):(t.classList.add("error"),t.classList.remove("success"),s.style.color="#ED3B44",s.textContent="")});t.addEventListener("blur",function(){const e=t.value.trim();e===""?(s.style.display="none",t.classList.remove("error","success")):m(e)?(s.style.color="#4CAF50",s.textContent="Success!",s.style.display="block",t.classList.add("success"),t.classList.remove("error")):(s.style.color="#ED3B44",s.textContent="Invalid input, try again",s.style.display="block",t.classList.add("error"),t.classList.remove("success"))});async function x(e){var c,r;e.preventDefault();const n=t.value.trim(),i=y.value.trim();if(!n||!i){d("<h2>PLEASE FILL ALL THE FIELDS</h2>");return}if(!m(n)){s.style.color="#ED3B44",s.textContent="Invalid input!",s.style.display="block",t.classList.add("error"),t.classList.remove("success");return}try{const o=await L.post("https://portfolio-js.b.goit.study/api/requests",{email:n,comment:i}),{title:l,message:h}=o.data;d(`<h2>${l}</h2> <p>${h}</p>`),t.value="",y.value="",t.classList.remove("error","success"),s.style.display="none"}catch(o){d(`<p>Error: ${((r=(c=o.response)==null?void 0:c.data)==null?void 0:r.message)||"Something went wrong. Please try again!"}</p>`)}}function d(e){E.innerHTML=e,a.style.display="flex",document.body.classList.add("modal-open"),document.addEventListener("keydown",g),a.addEventListener("click",w)}function p(){a.style.display="none",document.body.classList.remove("modal-open"),document.removeEventListener("keydown",g),a.removeEventListener("click",w)}function g(e){e.key==="Escape"&&p()}function w(e){e.target===a&&p()}b.addEventListener("submit",x);S.addEventListener("click",p);const u=document.querySelector(".reviews-list"),f=document.querySelector(".prev-btn"),v=document.querySelector(".next-btn ");async function C(){try{const n=(await L.get("https://portfolio-js.b.goit.study/api/reviews")).data;if(n.length===0){u.innerHTML="<li class='error'>Not found</li>";return}u.innerHTML=n.map(i=>`
            <li class="swiper-slide sliding-sw">
                <div class="review-item">    
                <img src="${i.avatar_url}" alt="${i.author}'s avatar" class="review-avatar" />
                  <p class="review-author">${i.author}</p>
                <p class="review-text">${i.review}</p>
                </div>
            </li>
        `).join(""),P()}catch(e){u.innerHTML="<li class='error'>Not found</li>",console.error("Error fetching reviews:",e)}}function P(){const e=new Swiper(".swiper",{slidesPerView:1,spaceBetween:16,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},keyboard:{enabled:!0,onlyInViewport:!0},breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:4}},on:{slideChange:function(){f.disabled=this.isBeginning,v.disabled=this.isEnd}}});f.disabled=e.isBeginning,v.disabled=e.isEnd}C();
//# sourceMappingURL=index.js.map

import{a as g}from"./assets/vendor-Cuvn3jHe.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))c(s);new MutationObserver(s=>{for(const t of s)if(t.type==="childList")for(const a of t.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&c(a)}).observe(document,{childList:!0,subtree:!0});function i(s){const t={};return s.integrity&&(t.integrity=s.integrity),s.referrerPolicy&&(t.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?t.credentials="include":s.crossOrigin==="anonymous"?t.credentials="omit":t.credentials="same-origin",t}function c(s){if(s.ep)return;s.ep=!0;const t=i(s);fetch(s.href,t)}})();document.addEventListener("DOMContentLoaded",function(){const e=document.querySelector("#projects");if(!e)return;const r=e.querySelector(".projects-swiper"),i=e.querySelector(".projects-swiper-button-prev"),c=e.querySelector(".projects-swiper-button-next");new Swiper(r,{slidesPerView:1,spaceBetween:20,loop:!1,effect:"slide",speed:600,allowTouchMove:!0,navigation:{nextEl:c,prevEl:i},on:{init:function(t){s(t)},slideChange:function(t){s(t)}}});function s(t){i.disabled=t.isBeginning,c.disabled=t.isEnd}});const l={menu:document.querySelector(".menu-item"),nav:document.querySelector(".nav-menu-wrap"),burger:document.querySelector(".burger-menu"),modal:document.querySelector(".header-modal"),modalNavList:document.querySelector(".modal-list")};document.addEventListener("click",h);function h(e){l.menu.contains(e.target)&&!l.nav.classList.contains("is-visible")?l.nav.classList.add("is-visible"):l.nav.classList.remove("is-visible")}l.burger.addEventListener("click",S);function S(){l.modal.classList.add("modal-is-visible"),document.body.classList.add("no-scroll")}l.modal.addEventListener("click",q);function q(e){(e.target.closest(".modal-close-icon")||e.target.closest(".modal-item")||e.target.closest(".order-btn-modal"))&&(l.modal.classList.remove("modal-is-visible"),document.body.classList.remove("no-scroll"))}const M=document.querySelector("form"),o=document.querySelector(".email-input"),y=document.querySelector(".comment-input"),d=document.querySelector(".modal-overlay"),x=document.querySelector(".modal-message"),C=document.querySelector(".close-modal"),B=document.querySelector(".email-container"),n=document.createElement("span");n.classList.add("status-span");n.style.display="none";B.appendChild(n);function p(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}o.addEventListener("input",function(){const e=o.value.trim();e===""?(o.classList.remove("error","success"),n.style.display="none"):p(e)?(o.classList.add("success"),o.classList.remove("error"),n.style.color="#4CAF50",n.textContent=""):(o.classList.add("error"),o.classList.remove("success"),n.style.color="#ED3B44",n.textContent="")});o.addEventListener("blur",function(){const e=o.value.trim();e===""?(n.style.display="none",o.classList.remove("error","success")):p(e)?(n.style.color="#4CAF50",n.textContent="Success!",n.style.display="block",o.classList.add("success"),o.classList.remove("error")):(n.style.color="#ED3B44",n.textContent="Invalid input, try again",n.style.display="block",o.classList.add("error"),o.classList.remove("success"))});async function P(e){var c,s;e.preventDefault();const r=o.value.trim(),i=y.value.trim();if(!r||!i){u("<h2>PLEASE FILL ALL THE FIELDS</h2>");return}if(!p(r)){n.style.color="#ED3B44",n.textContent="Invalid input!",n.style.display="block",o.classList.add("error"),o.classList.remove("success");return}try{const t=await g.post("https://portfolio-js.b.goit.study/api/requests",{email:r,comment:i}),{title:a,message:E}=t.data;u(`<h2>${a}</h2> <p>${E}</p>`),o.value="",y.value="",o.classList.remove("error","success"),n.style.display="none"}catch(t){u(`<p>Error: ${((s=(c=t.response)==null?void 0:c.data)==null?void 0:s.message)||"Something went wrong. Please try again!"}</p>`)}}function u(e){x.innerHTML=e,d.style.display="flex",document.body.classList.add("modal-open"),document.addEventListener("keydown",b),d.addEventListener("click",w)}function v(){d.style.display="none",document.body.classList.remove("modal-open"),document.removeEventListener("keydown",b),d.removeEventListener("click",w)}function b(e){e.key==="Escape"&&v()}function w(e){e.target===d&&v()}M.addEventListener("submit",P);C.addEventListener("click",v);const m=document.querySelector(".reviews-list"),f=document.querySelector(".prev-btn"),L=document.querySelector(".next-btn ");async function j(){try{const r=(await g.get("https://portfolio-js.b.goit.study/api/reviews")).data;if(r.length===0){m.innerHTML="<li class='error'>Not found</li>";return}m.innerHTML=r.map(i=>`
            <li class="swiper-slide sliding-sw">
                <div class="review-item">    
                <img src="${i.avatar_url}" alt="${i.author}'s avatar" class="review-avatar" />
                  <p class="review-author">${i.author}</p>
                <p class="review-text">${i.review}</p>
                </div>
            </li>
        `).join(""),k()}catch(e){m.innerHTML="<li class='error'>Not found</li>",console.error("Error fetching reviews:",e)}}function k(){const e=new Swiper(".reviews-swiper",{slidesPerView:1,spaceBetween:16,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},keyboard:{enabled:!0,onlyInViewport:!0},breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:4}},on:{slideChange:function(){f.disabled=this.isBeginning,L.disabled=this.isEnd}}});f.disabled=e.isBeginning,L.disabled=e.isEnd}j();
//# sourceMappingURL=index.js.map

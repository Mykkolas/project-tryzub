import{a as g}from"./assets/vendor-Cuvn3jHe.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const a of n.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&c(a)}).observe(document,{childList:!0,subtree:!0});function i(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function c(o){if(o.ep)return;o.ep=!0;const n=i(o);fetch(o.href,n)}})();const l={menu:document.querySelector(".menu-item"),nav:document.querySelector(".nav-menu-wrap"),burger:document.querySelector(".burger-menu"),modal:document.querySelector(".header-modal"),modalNavList:document.querySelector(".modal-list")};document.addEventListener("click",E);function E(e){l.menu.contains(e.target)&&!l.nav.classList.contains("is-visible")?l.nav.classList.add("is-visible"):l.nav.classList.remove("is-visible")}l.burger.addEventListener("click",S);function S(){l.modal.classList.add("modal-is-visible"),document.body.classList.add("no-scroll")}l.modal.addEventListener("click",q);function q(e){(e.target.closest(".modal-close-icon")||e.target.closest(".modal-item")||e.target.closest(".order-btn-modal"))&&(l.modal.classList.remove("modal-is-visible"),document.body.classList.remove("no-scroll"))}const M=document.querySelector("form"),t=document.querySelector(".email-input"),v=document.querySelector(".comment-input"),d=document.querySelector(".modal-overlay"),x=document.querySelector(".modal-message"),C=document.querySelector(".close-modal"),k=document.querySelector(".email-container"),s=document.createElement("span");s.classList.add("status-span");s.style.display="none";k.appendChild(s);function p(e){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(e)}t.addEventListener("input",function(){const e=t.value.trim();e===""?(t.classList.remove("error","success"),s.style.display="none"):p(e)?(t.classList.add("success"),t.classList.remove("error"),s.style.color="#4CAF50",s.textContent=""):(t.classList.add("error"),t.classList.remove("success"),s.style.color="#ED3B44",s.textContent="")});t.addEventListener("blur",function(){const e=t.value.trim();e===""?(s.style.display="none",t.classList.remove("error","success")):p(e)?(s.style.color="#4CAF50",s.textContent="Success!",s.style.display="block",t.classList.add("success"),t.classList.remove("error")):(s.style.color="#ED3B44",s.textContent="Invalid input, try again",s.style.display="block",t.classList.add("error"),t.classList.remove("success"))});async function P(e){var c,o;e.preventDefault();const r=t.value.trim(),i=v.value.trim();if(!r||!i){u("<h2>PLEASE FILL ALL THE FIELDS</h2>");return}if(!p(r)){s.style.color="#ED3B44",s.textContent="Invalid input!",s.style.display="block",t.classList.add("error"),t.classList.remove("success");return}try{const n=await g.post("https://portfolio-js.b.goit.study/api/requests",{email:r,comment:i}),{title:a,message:h}=n.data;u(`<h2>${a}</h2> <p>${h}</p>`),t.value="",v.value="",t.classList.remove("error","success"),s.style.display="none"}catch(n){u(`<p>Error: ${((o=(c=n.response)==null?void 0:c.data)==null?void 0:o.message)||"Something went wrong. Please try again!"}</p>`)}}function u(e){x.innerHTML=e,d.style.display="flex",document.body.classList.add("modal-open"),document.addEventListener("keydown",b),d.addEventListener("click",w)}function y(){d.style.display="none",document.body.classList.remove("modal-open"),document.removeEventListener("keydown",b),d.removeEventListener("click",w)}function b(e){e.key==="Escape"&&y()}function w(e){e.target===d&&y()}M.addEventListener("submit",P);C.addEventListener("click",y);const m=document.querySelector(".reviews-list"),f=document.querySelector(".prev-btn"),L=document.querySelector(".next-btn ");async function B(){try{const r=(await g.get("https://portfolio-js.b.goit.study/api/reviews")).data;if(r.length===0){m.innerHTML="<li class='error'>Not found</li>";return}m.innerHTML=r.map(i=>`
            <li class="swiper-slide sliding-sw">
                <div class="review-item">    
                <img src="${i.avatar_url}" alt="${i.author}'s avatar" class="review-avatar" />
                  <p class="review-author">${i.author}</p>
                <p class="review-text">${i.review}</p>
                </div>
            </li>
        `).join(""),I()}catch(e){m.innerHTML="<li class='error'>Not found</li>",console.error("Error fetching reviews:",e)}}function I(){const e=new Swiper(".swiper",{slidesPerView:1,spaceBetween:16,navigation:{nextEl:".swiper-button-next",prevEl:".swiper-button-prev"},keyboard:{enabled:!0,onlyInViewport:!0},breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:4}},on:{slideChange:function(){f.disabled=this.isBeginning,L.disabled=this.isEnd}}});f.disabled=e.isBeginning,L.disabled=e.isEnd}B();
//# sourceMappingURL=index.js.map

import{a as L}from"./assets/vendor-Cuvn3jHe.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))l(s);new MutationObserver(s=>{for(const r of s)if(r.type==="childList")for(const c of r.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&l(c)}).observe(document,{childList:!0,subtree:!0});function a(s){const r={};return s.integrity&&(r.integrity=s.integrity),s.referrerPolicy&&(r.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?r.credentials="include":s.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function l(s){if(s.ep)return;s.ep=!0;const r=a(s);fetch(s.href,r)}})();const g=document.querySelector("form"),e=document.querySelector(".email-input"),m=document.querySelector(".comment-input"),i=document.querySelector(".modal-overlay"),E=document.querySelector(".modal-message"),h=document.querySelector(".close-modal"),b=document.querySelector(".email-container"),t=document.createElement("span");t.classList.add("status-span");t.style.display="none";b.appendChild(t);function d(o){return/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(o)}e.addEventListener("input",function(){const o=e.value.trim();o===""?(e.classList.remove("error","success"),t.style.display="none"):d(o)?(e.classList.add("success"),e.classList.remove("error"),t.style.color="#4CAF50",t.textContent=""):(e.classList.add("error"),e.classList.remove("success"),t.style.color="#ED3B44",t.textContent="")});e.addEventListener("blur",function(){const o=e.value.trim();o===""?(t.style.display="none",e.classList.remove("error","success")):d(o)?(t.style.color="#4CAF50",t.textContent="Success!",t.style.display="block",e.classList.add("success"),e.classList.remove("error")):(t.style.color="#ED3B44",t.textContent="Invalid input, try again",t.style.display="block",e.classList.add("error"),e.classList.remove("success"))});async function S(o){var l,s;o.preventDefault();const n=e.value.trim(),a=m.value.trim();if(!n||!a)return alert("Please fill all the fields!");if(!d(n)){t.style.color="#ED3B44",t.textContent="Invalid input!",t.style.display="block",e.classList.add("error"),e.classList.remove("success");return}try{const r=await L.post("https://portfolio-js.b.goit.study/api/requests",{email:n,comment:a}),{title:c,message:v}=r.data;p(`<h2>${c}</h2> <p>${v}</p>`),e.value="",m.value="",e.classList.remove("error","success"),t.style.display="none"}catch(r){p(`<p>Error: ${((s=(l=r.response)==null?void 0:l.data)==null?void 0:s.message)||"Something went wrong. Please try again!"}</p>`)}}function p(o){E.innerHTML=o,i.style.display="flex",document.body.classList.add("modal-open"),document.addEventListener("keydown",y),i.addEventListener("click",f)}function u(){i.style.display="none",document.body.classList.remove("modal-open"),document.removeEventListener("keydown",y),i.removeEventListener("click",f)}function y(o){o.key==="Escape"&&u()}function f(o){o.target===i&&u()}g.addEventListener("submit",S);h.addEventListener("click",u);
//# sourceMappingURL=index.js.map
